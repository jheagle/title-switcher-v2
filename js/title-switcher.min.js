var currentClass="displayTitle",titles=[],TitleSwitcher=function(t,e){this.currentClass=t,this.titlesContainer=e,this.titles=e.children(),this.typeSurface={},this.isRandom=!1,this.delaySwitch=400,this.delayEffect=200,this.startTitles=function(t,e,i){var s="typeSurface",r=this.titlesContainer.find("."+this.currentClass).index(),a=this.titles[r];this.delaySwitch=e||400,this.delayEffect=i||200,this.isRandom=t||!1;var n=this;this.titles.eq(0).clone().prependTo(this.titlesContainer).addClass(s),this.typeSurface=this.titlesContainer.find("."+s).removeClass(this.currentClass).empty().show(),this.titles.hide(),n.switchTitle(a,n.typingEffect,this)},this.cursorBlink=function(t,e){var i=e||this;t?(i.typeSurface.html(i.typeSurface.html().replace("|","")),i.typeSurface.html(i.typeSurface.html()+'<span style="font-weight: normal; color: black; text-decoration: none">&#124;</span>')):i.typeSurface.html(i.typeSurface.html().replace("|",""))},this.typingEffect=function(t,e,i){var s=i||this,r=s.titlesContainer.find("."+s.currentClass).index(),t=t||s.titles[r+1],e=e||s.typingEffect,a=!0,n=4;s.typeSurface.attr("style")&&s.typeSurface.removeAttr("style"),$(t).attr("style")&&s.typeSurface.attr("style",$(t).attr("style")),s.typeSurface.empty().show();for(var l=0;n>l;++l)setTimeout(function(){s.cursorBlink(a,s),a=!a},l*s.delaySwitch);setTimeout(function(){s.typeSurface.empty(),s.typeSurface.html(s.typeSurface.html()+'<span style="font-weight: normal; color: black; text-decoration: none">&#124;</span>'),$.each($(t).text().split(""),function(i,r){setTimeout(function(){if(s.typeSurface.html(s.typeSurface.text().replace("|","")+r+'<span style="font-weight: normal; color: black; text-decoration: none">&#124;</span>'),$(t).text()+"|"===s.typeSurface.text()){s.typeSurface.html(t.innerHTML+'<span style="font-weight: normal; color: black; text-decoration: none">&#124;</span>');for(var i=0;2*n>i;++i)setTimeout(function(){--i,s.cursorBlink(a,s),a=!a,0===i&&e(t,s.typingEffect,s)},i*s.delaySwitch)}},i*s.delayEffect)})},n*s.delaySwitch)},this.switchTitle=function(t,e,i){var s=i||this,r=$(t).index(),a=s.titles.length,n=0;if(1===a)return e(t,s.switchTitle,s);if(s.isRandom){$.trim(s.typeSurface.text())||(r=-1);do n=Math.round(Math.random()*a-1);while(n===r-1||n>=a)}else $.trim(s.typeSurface.text())||(r=a),n=a>r?r:0;var l=s.titles[n];return $(t).removeClass(s.currentClass),$(l).addClass(s.currentClass),e(l,s.switchTitle,s)}};