var currentClass="displayTitle",titles=[],TitleSwitcher=function(t,e){this.currentClass=t,this.titlesContainer=e,this.titles=e.children(),this.typeSurface={},this.isRandom=!1,this.delaySwitch=400,this.delayEffect=200,this.startTitles=function(t,e,i){var s="typeSurface",n=this.titlesContainer.find("."+this.currentClass).index(),a=this.titles[n];this.delaySwitch=e||400,this.delayEffect=i||200,this.isRandom=t||!1;var r=this;this.titles.eq(0).clone().prependTo(this.titlesContainer).addClass(s),this.typeSurface=this.titlesContainer.find("."+s).removeClass(this.currentClass).empty().show(),this.titles.hide(),r.switchTitle(a,r.typingEffect,this)},this.cursorBlink=function(t,e){var i=e||this;t?(i.typeSurface.html($.trim(i.typeSurface.html().replace(/\||&nbsp;*(\<\/span\>)?$/,"$1"))),i.typeSurface.html(i.typeSurface.html()+'<span style="display: inline-block;font-weight: normal; color: black; text-decoration: none">&#124;</span>')):i.typeSurface.html(i.typeSurface.html().replace(/\|(\<\/span\>)$/,"&nbsp;$1"))},this.typingEffect=function(t,e,i){var s=i||this,n=s.titlesContainer.find("."+s.currentClass).index(),t=t||s.titles[n+1],e=e||s.typingEffect,a=!0,r=4;s.typeSurface.attr("style")&&s.typeSurface.removeAttr("style"),$(t).attr("style")&&s.typeSurface.attr("style",$(t).attr("style")),s.typeSurface.empty().show();for(var l=0;r>l;++l)setTimeout(function(){s.cursorBlink(a,s),a=!a},l*s.delaySwitch);setTimeout(function(){s.typeSurface.empty(),s.typeSurface.html(s.typeSurface.html()+'<span style="font-weight: normal; color: black; text-decoration: none">&#124;</span>'),$.each($(t).text().split(""),function(i,n){setTimeout(function(){if(s.typeSurface.html(s.typeSurface.text().replace("|","")+n+'<span style="font-weight: normal; color: black; text-decoration: none">&#124;</span>'),$(t).text()+"|"===s.typeSurface.text()){s.typeSurface.html(t.innerHTML+'<span style="font-weight: normal; color: black; text-decoration: none">&#124;</span>');for(var i=0;2*r>i;++i)setTimeout(function(){--i,s.cursorBlink(a,s),a=!a,0===i&&e(t,s.typingEffect,s)},i*s.delaySwitch)}},i*s.delayEffect)})},r*s.delaySwitch)},this.switchTitle=function(t,e,i){var s=i||this,n=$(t).index(),a=s.titles.length,r=0;if(1===a)return e(t,s.switchTitle,s);if(s.isRandom){$.trim(s.typeSurface.text())||(n=-1);do r=Math.round(Math.random()*a-1);while(r===n-1||r>=a)}else $.trim(s.typeSurface.text())||(n=a),r=a>n?n:0;var l=s.titles[r];return $(t).removeClass(s.currentClass),$(l).addClass(s.currentClass),e(l,s.switchTitle,s)}};